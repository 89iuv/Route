<div ng-controller="TransportModalController">
    <div class="uk-modal-header">
        <div>
            <div ng-show="state.type === CONSTANT.ADD"><h1>{{TEXT.CREATE}} {{TEXT.TITLE}}</h1></div>
            <div ng-show="state.type === CONSTANT.EDIT"><h1>{{TEXT.EDIT}} {{TEXT.TITLE}}</h1></div>
        </div>
        <hr>
    </div>

    <form class="uk-form uk-margin-bottom">
        <div class="uk-grid uk-grid-collapse">
            <div ng-show="state.type === CONSTANT.EDIT" class="uk-width-1-1 uk-grid uk-margin-bottom uk-margin-top-remove">
                <div class="uk-width-3-10 uk-text-right uk-vertical-align">
                    <label class="uk-form-label uk-width-1-1 uk-vertical-align-middle" for="id"><strong>Id: </strong></label>
                </div>
                <div class="uk-width-7-10">
                    <input id="id" class="uk-width-1-1" ng-model="state.data.id" type="text" ng-disabled="true">
                </div>
            </div>

            <div class="uk-width-1-1 uk-grid uk-margin-bottom uk-margin-top-remove">
                <div class="uk-width-3-10 uk-text-right uk-vertical-align">
                    <label class="uk-form-label uk-vertical-align-middle" for="transport-driver-name"><strong>Name: </strong></label>
                </div>
                <div class="uk-width-7-10" data-uk-dropdown="{justify:'#transportName'}">
                    <div id="transportName" class="uk-autocomplete uk-form uk-width-1-1" data-uk-autocomplet>
                        <input id="transport-driver-name"
                               class="uk-width-1-1"
                               ng-model="transport.driver.name"
                               type="text"
                               placeholder="ex: FirstName LastName"
                               autocomplete="off">

                        <script type="text/autocomplete">
                            <ul class="uk-nav uk-nav-autocomplete uk-autocomplete-results">
                                {{~items}}
                                <li data-value="{{ $item.name }} - {{ $item.company }}">
                                     <a>
                                        <strong>{{ $item.name }}</strong>
                                        <div>Company: <strong>{{ $item.company }}</strong>, Car: <strong>{{ $item.car }}</strong></div>
                                    </a>
                                </li>
                                {{/items}}
                            </ul>
                        </script>

                    </div>
                </div>
            </div>

            <div class="uk-width-1-1 uk-grid uk-margin-bottom uk-margin-top-remove">
                <div class="uk-width-3-10 uk-text-right uk-vertical-align">
                    <label class="uk-form-label uk-vertical-align-middle" for="transport.date"><strong>Date: </strong></label>
                </div>
                <div class="uk-width-7-10">
                    <div class="uk-width-1-1 uk-form-icon">
                        <i class="uk-width-1-1 uk-icon-calendar"></i>
                        <input id="transport.date"
                               class="uk-width-1-1"
                               ng-model="transport.date"
                               type="text"
                               placeholder="DD/MM/YYYY"
                               data-uk-datepicker="{format:'DD/MM/YYYY'}">
                    </div>
                </div>
            </div>

            <div class="uk-width-1-1 uk-grid uk-margin-small-bottom uk-margin-top-remove">
                <div class="uk-width-3-10 uk-text-right uk-vertical-align">
                    <label class="uk-form-label uk-vertical-align-middle"><strong>Locations: </strong></label>
                </div>
                <div class="uk-width-7-10">
                    <button ng-click="add()" class="uk-button">Add</button>
                    <button ng-click="remove()" class="uk-button">Remove</button>
                </div>
            </div>

            <div class="uk-width-1-1 uk-grid uk-margin-small-bottom uk-margin-top-remove" ng-repeat="location in state.data.locations">
                <div class="uk-width-3-10 uk-text-right uk-vertical-align">
                    <label class="uk-form-label uk-vertical-align-middle" for="transportLocation{{$index + 1}}">{{$index + 1}}.  </label>
                </div>
                <div class="uk-width-7-10" data-uk-dropdown="{justify:'#transportLocation{{$index + 1}}'}">
                    <div id="transportLocation{{$index + 1}}" class="uk-autocomplete uk-form uk-width-1-1" data-uk-autocomplet>
                        <input
                                id = transport-locations{{$index}}
                                class="uk-width-1-1"
                                ng-model="transport.locations[$index].name"
                                type="text"
                                placeholder="ex: New York"
                                autocomplete="off">


                        <script type="text/autocomplete">
                            <ul class="uk-nav uk-nav-autocomplete uk-autocomplete-results">
                                {{~items}}
                                <li data-value="{{ $item.name }} - {{ $item.deliveryPoint }}">
                                    <a>
                                        <strong>{{ $item.name }}</strong>
                                        <div>Delivery Point: <strong>{{ $item.deliveryPoint }}</strong>, ps: <strong>{{ $item.gps }}</strong></div>
                                    </a>
                                </li>
                                {{/items}}
                            </ul>
                        </script>

                    </div>
                </div>
            </div>

        </div>
    </form>

    <div class="uk-modal-footer">
        <div class="uk-grid">
            <div class="uk-width-1-1 uk-text-right">
                <button type="submit" class="uk-button uk-button-primary" ng-show="state.type === CONSTANT.ADD"
                        ng-click="save()">{{TEXT.SAVE}}
                </button>
                <button type="submit" class="uk-button uk-button-primary" ng-show="state.type === CONSTANT.EDIT"
                        ng-click="update()">{{TEXT.UPDATE}}
                </button>
                <button ng-click="close()" class="uk-button">{{TEXT.CLOSE}}</button>
            </div>
        </div>
    </div>
</div>
